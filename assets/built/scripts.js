function cleanUpFeedTitle(t){return t=t.replace(/\[.*?\]/g,"")}function isGoodItem(t){return-1==t.getElementsByTagName("title")[0].childNodes[0].nodeValue.search(/\[CLOSED\]/i)?!0:!1}function printLibraries(t){var e=sortByKey(t[0],"library_name");$.each(e,function(t,e){24!=e.library_number&&(libtemp=printLibraryTemplate(t,e),$("#libs").append(libtemp));var i="#hours-datepicker-form"+e.library_number;$(function(){$(".hours-datepicker").datepicker({onSelect:function(){$(i).submit()}})}),$(i).submit(function(t){datePickerFormSubmit(t,e.library_number)})})}function printHours(t){$.each(t[0].timeAndLocArray,function(t,e){24!=e.library_number&&openStatusBadge(e.open,e.library_number),hoursTableWrite(e.sevenDays,e.library_number)})}function hoursTableWrite(t,e,a){printDaysArray=void 0===a?weekDaysArray:a;var n='<table aria-labelledby="lib-hrs-table-desc'+e+'" aria-describedby="lib-hrs-table-desc'+e+'"><tbody><thead><tr class="sr-only"><th>Day</th><th>Hours</th></tr></thead>';for(i=0;i<7;i++){var s=t[i].split(", ");if(n+='<tr><td><span class="hourshide">'+printDaysArray[i]+':</span></td><td><span class="hourshide">',s.length>1){for(n+='<ul class="list-unstyled">',q=0;q<s.length;q++)n+="<li>"+s[q]+"</li>";n+="</ul></span></td>"}else n+=s[0]+"</span></td></tr>"}n+="</tbody></table>",$("#hrsRowHolder"+e).html(n),$(".hoursListClass tr:first-child span").removeClass("hourshide"),$(".hoursListClass tr:first-child").addClass("hours-highlight")}function orderWeekDays(){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e=getServerTime().getDay();if(0!==e)for(i=0;i<e;i++){var a=t[0];t.shift(),t.push(a)}return t.shift(),t.unshift("TODAY"),t}function sortByKey(t,e){return t.sort(function(t,i){var a=t[e],n=i[e];return n>a?-1:a>n?1:0})}function printLibraryTemplate(t,e){var i={number:e.library_number,name:e.library_name,description:e.description,street:e.street_address,city:e.city,state:e.state,zip:e.zip,url:e.weblinks,building:e.building_id,map:e.map_url,tel:e.phone_number},a=_.template('<li id="hours-list-item-library<%= number %>" class="list-group-item library-item-hrs"><div class="row hiddenContent" id="hoursRow<%= number %>"><div class="col-md-6"><div class="row"><div class="col-md-10"><h4 class="list-group-item-heading library-name-hrs"><%= name %></h4></div><div class="col-md-2"><span id="libOpen<%= number %>"></span></div></div><div class="hourshide"><p class="hidden-xs"><%= description %></p><% if (typeof(street) !== "undefined" && street.trim() !== "" ) { %><p class="list-group-item-text hourshide"><%= street %></p><% } %><% if (typeof(state) !== "undefined" && state.trim() !== "" && typeof(zip) !== "undefined" && zip.trim() !== "") { %><p class="list-group-item-text"><%= city %>, <%= state %> <%= zip %></p><% } %><% if (typeof(tel) !== "undefined" && tel.trim() !== "" ) { %><p class="list-group-item-text"><%= tel %></p><% } %><a class="stopProp" href="<%= url %>"><%= url %></a></p><br /><% if (typeof(street) !== "undefined" && street.trim() !== "" ) { %><a id="carparking" aria-label="Parking for <%= name %>" class="fancybox btn btn-primary btn-sm stopProp" title="Parking near <%= name %>" href="./assets/parking/parking_<%= number %>.png">PARKING</a><% } %> <% if (typeof(street) !== "undefined" && street.trim() !== "" ) { %><a class="fancybox fancybox.iframe btn btn-primary btn-sm stopProp" aria-label="Map of <%= name %>" href="<%= map %>">MAP</a><% } %></div></div><div class="col-md-3 hoursListClass" id="libHourswfw<%= number %>"><span id="lib-hrs-table-desc<%= number %>" class="sr-only">Open hours for <%= name %></span><span id="hoursListHeading<%= number %>" class="hourshide"><h5>Next Seven Days</h5></span><div id="hrsRowHolder<%= number%>"></div><label class="hourshide" for="hours-datepicker-input<%= number %>">Search Hours:</label><div id="invalid-date-<%= number %>"></div><form class="form-inline datepicker-form" role="form" id="hours-datepicker-form<%= number%>" aria-label="Search open hours for <%= name%>"><div class="hourshide form-group"><div class="input-group"><input id="hours-datepicker-input<%= number %>" class="form-control input-sm stopProp hours-datepicker" type="text" placeholder="MM/DD/YYYY" aria-label="Enter hours in MM/DD/YYYY format"></input><input type="hidden" value="<%= number %>" name="librarynumber"></input><span class="input-group-btn"><button type="submit" class="stopProp btn btn-primary btn-sm">Search</button></span></div></div></form></div><div class="col-md-3"><div class="row"><div class="col-md-12"><button class="expandHoursRowClass btn btn-primary btn-sm pull-right hoursMoreButton" id="hoursShowMoreButton<%= number %>" aria-controls="hoursRow<%= number %>"><span class="moreButtonSpan hoursMoreButtonExpand">Expand</span><span class="moreButtonSpan hoursMoreButtonContract">Collapse</span></button></div></div><% if (typeof(building) !== "undefined" && building.trim() !== "" ) { %><a class="fancybox hourshide hidden-xs" href="./assets/buildings/full/building_<%= building %>.jpg"><img class="img-responsive stopProp buildingimage" src="./assets/buildings/display/building_<%= building %>.jpg" alt="<%= name %>" /></a><% } %></div></div></li>',i);return a}function openStatusBadge(t,e){t===!0?($("#libOpen"+e).html('<span class="badge-green badge open-closed-status">Open</span>'),$("#hours-list-item-library"+e).removeClass("library-closed").addClass("library-open")):t===!1&&($("#libOpen"+e).html('<span class="badge-red badge open-closed-status">Closed</span>'),$("#hours-list-item-library"+e).removeClass("library-open").addClass("library-closed"))}function isValidDate(t){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t))return!1;var e=t.split("/"),i=parseInt(e[1],10),a=parseInt(e[0],10),n=parseInt(e[2],10);if(1e3>n||n>3e3||0===a||a>12)return!1;var s=[31,28,31,30,31,30,31,31,30,31,30,31];return(n%400===0||n%100!==0&&n%4===0)&&(s[1]=29),i>0&&i<=s[a-1]}function datePickerFormSubmit(t,e){t.preventDefault();var i="hours-datepicker-input"+e,a=document.getElementById(i).value;if(vDateTest=isValidDate(a),vDateTest===!0){var n=new Date(a),s=n.getFullYear(),r=n.getMonth()+1,o=n.getDate();n.setDate(n.getDate()+6);var l=n.getFullYear(),d=n.getMonth()+1,c=n.getDate(),h=window.location.origin+"/api/times_locations/time_range?librarynumber="+e+"&startyear="+s+"&startmonth="+r+"&startday="+o+"&endyear="+l+"&endmonth="+d+"&endday="+c;$.ajax({url:h,dataType:"html",success:function(t){var i,s,r,o=JSON.parse(t),l=o.hours,d=[];for(i in l)l.hasOwnProperty(i)&&d.push(i);d.sort(),r=d.length;var c=[],h=[];for(s=0;r>s;s++)i=d[s],c.push(i),h.push(l[i]);var u=[];for(s=0;s<c.length;s++){var p=c[s].substr(0,4),f=c[s].substr(4,2),g=c[s].substr(6,2),m=f+"/"+g+"/"+p;u.push(m)}for(h=dateComparisonHours(n,o.no_hours_date,h),s=0;s<h.length;s++)""===h[s]&&(h[s]="Closed");hoursTableWrite(h,e,u);var v="#invalid-date-"+e;$(v).html("");var b="#hoursListHeading"+e;$(b).html("<h5>Hours from "+a+"</h5>")}})}else if(vDateTest===!1){var u="#invalid-date-"+e;$(u).html("<p><mark><strong>Enter date in MM/DD/YYYY format</strong></mark></p>")}else console.log("Error in Datepicker Date format.")}function dateComparisonHours(t,e,a){if("undefined"!=typeof e){e=e.substring(4,6)+"/"+e.substring(6,8)+"/"+e.substring(0,4);var n=new Date(e);if(t.setDate(t.getDate()-6),t>=n)return a=["To be announced","To be announced","To be announced","To be announced","To be announced","To be announced","To be announced"];if(t.getTime()+6048e5<n.getTime())return a;for(vdiff=7-dayDiff(t,n),i=0;i<vdiff;i++)a.pop();for(i=0;i<vdiff;i++)a.push("To be announced");return a}return a}function dayDiff(t,e){var i=e.getTime(),a=t.getTime();return parseInt((i-a)/864e5)}function filterOpenStatus(){$("#open-filter-checkbox").is(":checked")?$("#libs").addClass("library-status-show"):$("#libs").removeClass("library-status-show")}function filterLibraryNames(){document.getElementById("search-field").value.length>=0?$(".library-item-hrs").removeClass("library-item-hrs-hide").filter(function(){return-1==$(this).find(".library-name-hrs").text().toLowerCase().indexOf($("#search-field").val().toLowerCase())}).addClass("library-item-hrs-hide"):$(".library-name-hrs").show()}function preload(t){$(t).each(function(){$("<img/>")[0].src=this})}if(window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host),manualAlert=0,$(document).ready(function(){$.ajax({type:"GET",url:"assets/alertproxy.php",cache:!1,dataType:"xml",success:function(t){var e=t.getElementsByTagName("item");if(0!=e.length&&0==manualAlert){for(var i,a="",n="",s=0,r=0;r<e.length;r++){if(s>=3&&e.length>3){a+='<a class="show alert-item-title" href="https://status-dev.uillinois.edu/SystemStatus/jsp/current_events.jsp"><strong>Additional Critical Announcements...</strong></a>';break}isGoodItem(e[r])&&(a+="<li>",0!=e[r].getElementsByTagName("title")[0].childNodes.length&&(i=cleanUpFeedTitle(e[r].getElementsByTagName("title")[0].childNodes[0].nodeValue)),0!=e[r].getElementsByTagName("link")[0].childNodes.length&&(itemLink=e[r].getElementsByTagName("link")[0].childNodes[0].nodeValue),a+='<a class="alert-item-line show" href="'+itemLink+'">',a+='<span class="fa fa-exclamation-circle" aria-hidden="true"> </span> <span class="sr-only">Warning:</span>',a+='<span class="alert-item-title"><strong>'+i+"</strong></span>",a+="</li>",s++)}s>=3&&(n="s"),0==s&&0==manualAlert&&$("#alert-div").remove(),a='<div class="alert alert-danger" role="alert"><h2 class="sr-only">Critical Announcement'+n+'</h2><ul class="list-unstyled">'+a,a+="</ul></div>",$("#alert-div").html(a)}}})}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,a=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(a).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new a(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',a=function(e){t(e).on("click",i,this.close)};a.VERSION="3.3.4",a.TRANSITION_DURATION=150,a.prototype.close=function(e){function i(){r.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var r=t(s);e&&e.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=a,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,a.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.button"),s="object"==typeof e&&e;n||a.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,a){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,a),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",a=this.$element,n=a.is("input")?"val":"html",s=a.data();e+="Text",null==s.resetText&&a.data("resetText",a[n]()),setTimeout(t.proxy(function(){a[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,a.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,a.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var a=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=a,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var a=t(i.target);a.hasClass("btn")||(a=a.closest(".btn")),e.call(a,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.carousel"),s=t.extend({},i.DEFAULTS,a.data(),"object"==typeof e&&e),r="string"==typeof e?e:s.slide;n||a.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):r?n[r]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),a="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(a&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,a){var n=this.$element.find(".item.active"),s=a||this.getItemForDirection(e,n),r=this.interval,o="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var d=s[0],c=t.Event("slide.bs.carousel",{relatedTarget:d,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(s)]);h&&h.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:d,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(o),s.addClass(o),n.one("bsTransitionEnd",function(){s.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var a=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=a,this};var n=function(i){var a,n=t(this),s=t(n.attr("data-target")||(a=n.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var r=t.extend({},s.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),e.call(s,r),o&&s.data("bs.carousel").to(o),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,a=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(a)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},a.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new a(this,s)),"string"==typeof e&&n[e]()})}var a=function(e,i){this.$element=t(e),this.options=t.extend({},a.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};a.VERSION="3.3.4",a.TRANSITION_DURATION=350,a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},a.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(a.TRANSITION_DURATION)[r](this.$element[0][l])}}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(a.TRANSITION_DURATION):n.call(this)}}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},a.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,a){var n=t(a);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},a.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=a,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var n=t(this);n.attr("data-target")||a.preventDefault();var s=e(n),r=s.data("bs.collapse"),o=r?"toggle":n.data();i.call(s,o)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(n).remove(),t(s).each(function(){var a=t(this),n=i(a),s={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||(a.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",s)))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var a=i&&t(i);return a&&a.length?a:e.parent()}function a(e){return this.each(function(){var i=t(this),a=i.data("bs.dropdown");a||i.data("bs.dropdown",a=new r(this)),"string"==typeof e&&a[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.4",r.prototype.toggle=function(a){var n=t(this);if(!n.is(".disabled, :disabled")){var s=i(n),r=s.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var o={relatedTarget:this};if(s.trigger(a=t.Event("show.bs.dropdown",o)),a.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var a=t(this);if(e.preventDefault(),e.stopPropagation(),!a.is(".disabled, :disabled")){var n=i(a),r=n.hasClass("open");if(!r&&27!=e.which||r&&27==e.which)return 27==e.which&&n.find(s).trigger("focus"),a.trigger("click");var o=" li:not(.disabled):visible a",l=n.find('[role="menu"]'+o+', [role="listbox"]'+o);if(l.length){var d=l.index(e.target);38==e.which&&d>0&&d--,40==e.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var o=t.fn.dropdown;t.fn.dropdown=a,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,r.prototype.toggle).on("keydown.bs.dropdown.data-api",s,r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,a){return this.each(function(){var n=t(this),s=n.data("bs.modal"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,r)),"string"==typeof e?s[e](a):r.show&&s.show(a)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var a=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),n&&a.$element[0].offsetWidth,a.$element.addClass("in").attr("aria-hidden",!1),a.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):a.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var a=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){a.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var a=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=a,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var a=t(this),n=a.attr("href"),s=t(a.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),a.data());a.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),e.call(s,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.tooltip"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||a.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,a){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var r=n[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var o="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,a){i[t]!=a&&(e[t]=a)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var a=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);

if(e.isDefaultPrevented()||!a)return;var n=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(o);d&&(o=o.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var c=this.getPosition(),h=s[0].offsetWidth,u=s[0].offsetHeight;if(d){var p=o,f=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(f);o="bottom"==o&&c.bottom+u>g.bottom?"top":"top"==o&&c.top-u<g.top?"bottom":"right"==o&&c.right+h>g.width?"left":"left"==o&&c.left-h<g.left?"right":o,s.removeClass(p).addClass(o)}var m=this.getCalculatedOffset(o,c,h,u);this.applyPlacement(m,o);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var a=this.tip(),n=a[0].offsetWidth,s=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),o=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(o)&&(o=0),e.top=e.top+r,e.left=e.left+o,t.offset.setOffset(a[0],t.extend({using:function(t){a.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),a.addClass("in");var l=a[0].offsetWidth,d=a[0].offsetHeight;"top"==i&&d!=s&&(e.top=e.top+s-d);var c=this.getViewportAdjustedDelta(i,e,l,d);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(i),u=h?2*c.left-n+l:2*c.top-s+d,p=h?"offsetWidth":"offsetHeight";a.offset(e),this.replaceArrow(u,a[0][p],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function a(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",a).emulateTransitionEnd(i.TRANSITION_DURATION):a(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],a="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=a?{top:0,left:0}:e.offset(),r={scroll:a?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},o=a?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,r,o,s)},i.prototype.getCalculatedOffset=function(t,e,i,a){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-a,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-a/2,left:e.left-i}:{top:e.top+e.height/2-a/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,a){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var o=e.top-s-r.scroll,l=e.top+s-r.scroll+a;o<r.top?n.top=r.top-o:l>r.top+r.height&&(n.top=r.top+r.height-l)}else{var d=e.left-s,c=e.left+s+i;d<r.left?n.left=r.left-d:c>r.width&&(n.left=r.left+r.width-c)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var a=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=a,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.popover"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||a.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var a=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=a,this}}(jQuery),+function(t){"use strict";function e(i,a){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var a=t(this),n=a.data("bs.scrollspy"),s="object"==typeof i&&i;n||a.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",a=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",a=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+a,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),a=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=a)return r!=(t=s[s.length-1])&&this.activate(t);if(r&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)r!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',a=t(i).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var a=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=a,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.tab");n||a.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),a=e.data("target");if(a||(a=e.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(r),!r.isDefaultPrevented()&&!s.isDefaultPrevented()){var o=t(a);this.activate(e.closest("li"),i),this.activate(o,o.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,a,n){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=a.find("> .active"),o=n&&t.support.transition&&(r.length&&r.hasClass("fade")||!!a.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),r.removeClass("in")};var a=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=a,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.affix"),s="object"==typeof e&&e;n||a.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,a){this.options=t.extend({},i.DEFAULTS,a),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,a){var n=this.$target.scrollTop(),s=this.$element.offset(),r=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=s.top?!1:"bottom":t-a>=n+r?!1:"bottom";var o=null==this.affixed,l=o?n:s.top,d=o?r:e;return null!=i&&i>=n?"top":null!=a&&l+d>=t-a?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),a=this.options.offset,n=a.top,s=a.bottom,r=t(document.body).height();"object"!=typeof a&&(s=n=a),"function"==typeof n&&(n=a.top(this.$element)),"function"==typeof s&&(s=a.bottom(this.$element));var o=this.getState(r,e,n,s);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var l="affix"+(o?"-"+o:""),d=t.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-e-s})}};var a=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=a,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),a=i.data();a.offset=a.offset||{},null!=a.offsetBottom&&(a.offset.bottom=a.offsetBottom),null!=a.offsetTop&&(a.offset.top=a.offsetTop),e.call(i,a)})})}(jQuery),function(t){"use strict";var e=function(t){return(t||"ui-id")+"-"+Math.floor(1e3*Math.random()+1)},i=function(e,i,a){var n=(e.attr(i)||"").split(/\s+/),s=t.inArray(a,n);-1!==s&&n.splice(s,1),n=t.trim(n.join(" ")),n?e.attr(i,n):e.removeAttr(i)};t(".alert").attr("role","alert"),t(".close").removeAttr("aria-hidden").wrapInner('<span aria-hidden="true"></span>').append('<span class="sr-only">Close</span>');var a=t.fn.tooltip.Constructor.prototype.show,n=t.fn.tooltip.Constructor.prototype.hide;t.fn.tooltip.Constructor.prototype.show=function(){a.apply(this,arguments);var t=this.tip(),i=t.attr("id")||e("ui-tooltip");t.attr({role:"tooltip",id:i}),this.$element.attr("aria-describedby",i)},t.fn.tooltip.Constructor.prototype.hide=function(){return n.apply(this,arguments),i(this.$element,"aria-describedby",this.tip().attr("id")),this};var s=t.fn.popover.Constructor.prototype.setContent,r=t.fn.popover.Constructor.prototype.hide;t.fn.popover.Constructor.prototype.setContent=function(){s.apply(this,arguments);var t=this.tip(),i=t.attr("id")||e("ui-tooltip");t.attr({role:"alert",id:i}),this.$element.attr("aria-describedby",i),this.$element.focus()},t.fn.popover.Constructor.prototype.hide=function(){return r.apply(this,arguments),i(this.$element,"aria-describedby",this.tip().attr("id")),this},t(".modal-dialog").attr({role:"document"});var o=t.fn.modal.Constructor.prototype.hide;t.fn.modal.Constructor.prototype.hide=function(){var t=this.$element.parent().find('[data-target="#'+this.$element.attr("id")+'"]');o.apply(this,arguments),console.log("modalOpener",t),t.focus()};var l,d,c="[data-toggle=dropdown]",h=200,u=t(c).parent().find("ul").attr("role","menu"),p=u.find("li").attr("role","presentation");p.find("a").attr({role:"menuitem",tabIndex:"-1"}),t(c).attr({"aria-haspopup":"true","aria-expanded":"false"}),t(c).parent().on("shown.bs.dropdown",function(e){l=t(this);var i=l.find(c);i.attr("aria-expanded","true"),setTimeout(function(){d=t(".dropdown-menu [role=menuitem]:visible",l)[0];try{d.focus()}catch(e){}},h)}),t(c).parent().on("hidden.bs.dropdown",function(e){l=t(this);var i=l.find(c);i.attr("aria-expanded","false")}),t.fn.dropdown.Constructor.prototype.keydown=function(e){var i;/(32)/.test(e.keyCode)&&(i=t(this).parent(),t(this).trigger("click"),e.preventDefault()&&e.stopPropagation())},t(document).on("focusout.dropdown.data-api",".dropdown-menu",function(e){var i=t(this),a=this;setTimeout(function(){t.contains(a,document.activeElement)||(i.parent().removeClass("open"),i.parent().find("[data-toggle=dropdown]").attr("aria-expanded","false"))},150)}).on("keydown.bs.dropdown.data-api",c+", [role=menu]",t.fn.dropdown.Constructor.prototype.keydown);var f=t(".nav-tabs, .nav-pills"),g=f.children("li"),m=f.find('[data-toggle="tab"], [data-toggle="pill"]');f.attr("role","tablist"),g.attr("role","presentation"),m.attr("role","tab"),m.each(function(i){var a=t(t(this).attr("href")),n=t(this),s=n.attr("id")||e("ui-tab");n.attr("id",s),n.parent().hasClass("active")?(n.attr({tabIndex:"0","aria-selected":"true","aria-controls":n.attr("href").substr(1)}),a.attr({role:"tabpanel",tabIndex:"0","aria-hidden":"false","aria-labelledby":s})):(n.attr({tabIndex:"-1","aria-selected":"false","aria-controls":n.attr("href").substr(1)}),a.attr({role:"tabpanel",tabIndex:"-1","aria-hidden":"true","aria-labelledby":s}))}),t.fn.tab.Constructor.prototype.keydown=function(e){var i,a,n=t(this),s=n.closest("ul[role=tablist] "),r=e.which||e.keyCode;if(n=t(this),/(37|38|39|40)/.test(r)){i=s.find("[role=tab]:visible"),a=i.index(i.filter(":focus")),(38==r||37==r)&&a--,(39==r||40==r)&&a++,0>a&&(a=i.length-1),a==i.length&&(a=0);var o=i.eq(a);"tab"===o.attr("role")&&o.tab("show").focus(),e.preventDefault(),e.stopPropagation()}},t(document).on("keydown.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',t.fn.tab.Constructor.prototype.keydown);var v=t.fn.tab.Constructor.prototype.activate;t.fn.tab.Constructor.prototype.activate=function(t,e,i){var a=e.find("> .active");a.find("[data-toggle=tab], [data-toggle=pill]").attr({tabIndex:"-1","aria-selected":!1}),a.filter(".tab-pane").attr({"aria-hidden":!0,tabIndex:"-1"}),v.apply(this,arguments),t.addClass("active"),t.find("[data-toggle=tab], [data-toggle=pill]").attr({tabIndex:"0","aria-selected":!0}),t.filter(".tab-pane").attr({"aria-hidden":!1,tabIndex:"0"})};var b=t('[data-toggle="collapse"]');b.attr({role:"tab","aria-selected":"false","aria-expanded":"false"}),b.each(function(i){var a=t(this),n=t(a.attr("data-target")?a.attr("data-target"):a.attr("href")),s=a.attr("data-parent"),r=s&&t(s),o=a.attr("id")||e("ui-collapse");t(r).find("div:not(.collapse,.panel-body), h4").attr("role","presentation"),a.attr("id",o),r&&(r.attr({role:"tablist","aria-multiselectable":"true"}),n.hasClass("in")?(a.attr({"aria-controls":a.attr("href").substr(1),"aria-selected":"true","aria-expanded":"true",tabindex:"0"}),n.attr({role:"tabpanel",tabindex:"0","aria-labelledby":o,"aria-hidden":"false"})):(a.attr({"aria-controls":a.attr("href").substr(1),tabindex:"-1"}),n.attr({role:"tabpanel",tabindex:"-1","aria-labelledby":o,"aria-hidden":"true"})))});var y=t.fn.collapse.Constructor.prototype.toggle;t.fn.collapse.Constructor.prototype.toggle=function(){var e,i=this.$parent&&this.$parent.find('[aria-expanded="true"]');if(i){{var a,n=i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),s=t(n),r=this.$element;this.$parent}this.$parent&&(a=this.$parent.find('[data-toggle=collapse][href="#'+this.$element.attr("id")+'"]')),y.apply(this,arguments),t.support.transition&&this.$element.one(t.support.transition.end,function(){i.attr({"aria-selected":"false","aria-expanded":"false",tabIndex:"-1"}),s.attr({"aria-hidden":"true",tabIndex:"-1"}),a.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:"0"}),r.hasClass("in")?r.attr({"aria-hidden":"false",tabIndex:"0"}):(a.attr({"aria-selected":"false","aria-expanded":"false"}),r.attr({"aria-hidden":"true",tabIndex:"-1"}))})}else y.apply(this,arguments)},t.fn.collapse.Constructor.prototype.keydown=function(e){var i,a,n=t(this),s=n.closest("div[role=tablist] "),r=e.which||e.keyCode;n=t(this),/(32|37|38|39|40)/.test(r)&&(32==r&&n.click(),i=s.find("[role=tab]"),a=i.index(i.filter(":focus")),(38==r||37==r)&&a--,(39==r||40==r)&&a++,0>a&&(a=i.length-1),a==i.length&&(a=0),i.eq(a).focus(),e.preventDefault(),e.stopPropagation())},t(document).on("keydown.collapse.data-api",'[data-toggle="collapse"]',t.fn.collapse.Constructor.prototype.keydown),t(".carousel").each(function(e){var i=t(this),a=i.find('[data-slide="prev"]'),n=i.find('[data-slide="next"]'),s=i.find(".item"),r=s.parent();i.attr({"data-interval":"false","data-wrap":"false"}),r.attr("role","listbox"),s.attr("role","option");var o=document.createElement("span");o.setAttribute("class","sr-only"),o.innerHTML="Previous";var l=document.createElement("span");l.setAttribute("class","sr-only"),l.innerHTML="Next",a.attr("role","button"),n.attr("role","button"),a.append(o),n.append(l),s.each(function(){var e=t(this);e.attr(e.hasClass("active")?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"})})});var w=t.fn.carousel.Constructor.prototype.slide;t.fn.carousel.Constructor.prototype.slide=function(e,i){var a=this.$element.find(".item.active"),n=i||a[e]();w.apply(this,arguments),a.one(t.support.transition.end,function(){a.attr({"aria-selected":!1,tabIndex:"-1"}),n.attr({"aria-selected":!0,tabIndex:"0"})})},t.fn.carousel.Constructor.prototype.keydown=function(e){var i,a=t(this),n=a.closest("div[role=listbox]"),s=n.find("[role=option]"),r=n.parent(),o=e.which||e.keyCode;/(37|38|39|40)/.test(o)&&(i=s.index(s.filter(".active")),(37==o||38==o)&&(r.carousel("prev"),i--,0>i?i=s.length-1:a.prev().focus()),(39==o||40==o)&&(r.carousel("next"),i++,i==s.length?i=0:a.one(t.support.transition.end,function(){a.next().focus()})),e.preventDefault(),e.stopPropagation())},t(document).on("keydown.carousel.data-api","div[role=option]",t.fn.carousel.Constructor.prototype.keydown)}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,a){var n,s,r,o=e.nodeName.toLowerCase();return"area"===o?(n=e.parentNode,s=n.name,e.href&&s&&"map"===n.nodeName.toLowerCase()?(r=t("img[usemap='#"+s+"']")[0],!!r&&i(r)):!1):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||a:a)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function a(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",r)}function r(){t.datepicker._isDisabledDatepicker(l.inline?l.dpDiv.parent()[0]:l.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function o(e,i){t.extend(e,i);for(var a in i)null==i[a]&&(e[a]=i[a]);return e}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),a="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return a&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,a){return!!t.data(e,a[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var a=t.attr(i,"tabindex"),n=isNaN(a);return(n||a>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function a(e,i,a,s){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,a&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?r["inner"+i].call(this):this.each(function(){t(this).css(s,a(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?r["outer"+i].call(this,e):this.each(function(){t(this).css(s,a(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,a){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),a&&a.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,a,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a))return a;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,a){var n,s=t.ui[e].prototype;for(n in a)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([i,a[n]])},call:function(t,e,i,a){var n,s=t.plugins[e];if(s&&(a||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;s.length>n;n++)t.options[s[n][0]]&&s[n][1].apply(t.element,i)}},t.extend(t.ui,{datepicker:{version:"1.11.2"}});var l;t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var a,n,s;a=e.nodeName.toLowerCase(),n="div"===a||"span"===a,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),n),s.settings=t.extend({},i||{}),"input"===a?this._connectDatepicker(e,s):n&&this._inlineDatepicker(e,s)},_newInst:function(e,i){var a=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:a,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var a=t(e);i.append=t([]),i.trigger=t([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var a,n,s,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[o?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),("focus"===a||"both"===a)&&e.focus(this._showDatepicker),("button"===a||"both"===a)&&(n=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:n,title:n}):n)),e[o?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,a,n,s=new Date(2009,11,20),r=this._get(t,"dateFormat");r.match(/[DM]/)&&(e=function(t){for(i=0,a=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,a=n);return a},s.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var a=t(e);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,a,n,s){var r,l,d,c,h,u=this._dialogInst;return u||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),u=this._dialogInst=this._newInst(this._dialogInput,!1),u.settings={},t.data(this._dialogInput[0],"datepicker",u)),o(u.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,d=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,d/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),
u.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var i,a=t(e),n=t.data(e,"datepicker");a.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,a,n=t(e),s=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(a=n.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,a,n=t(e),s=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(a=n.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,a){var n,s,r,l,d=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):d?"all"===i?t.extend({},d.settings):this._get(d,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=a),void(d&&(this._curInst===d&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(d,"min"),l=this._getMinMaxDate(d,"max"),o(d.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(d.settings.minDate=this._formatDate(d,r)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(d.settings.maxDate=this._formatDate(d,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),d),this._autoSize(d),this._setDate(d,s),this._updateAlternate(d),this._updateDatepicker(d))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,a,n,s=t.datepicker._getInst(e.target),r=!0,o=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),r=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),n[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,n[0]),i=t.datepicker._get(s,"onSelect"),i?(a=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[a,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,a,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),a=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">a||!i||i.indexOf(a)>-1):void 0},_doKeyUp:function(e){var i,a=t.datepicker._getInst(e.target);if(a.input.val()!==a.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,t.datepicker._getFormatConfig(a)),i&&(t.datepicker._setDateFromField(a),t.datepicker._updateAlternate(a),t.datepicker._updateDatepicker(a))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,s,r,l,d,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),s=n?n.apply(e,[e,i]):{},s!==!1&&(o(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,r),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(d=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",a(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[d]?i.dpDiv.show(d,t.datepicker._get(i,"showOptions"),c):i.dpDiv[d||"show"](d?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,l=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,a=this._getNumberOfMonths(e),n=a[1],s=17,o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&r.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",s*n+"em"),e.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,a){var n=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(a?0:t(document).scrollLeft()),d=document.documentElement.clientHeight+(a?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-r:0,i.left-=a&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=a&&i.top===e.input.offset().top+o?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+s>d&&d>s?Math.abs(s+o):0),i},_findPos:function(e){for(var i,a=this._getInst(e),n=this._get(a,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,a,n,s,r=this._curInst;!r||e&&r!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(r,"showAnim"),a=this._get(r,"duration"),n=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),a,n):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,n),i||n(),this._datepickerShowing=!1,s=this._get(r,"onClose"),s&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),a=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==a)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,a){var n=t(e),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,i+("M"===a?this._get(s,"showCurrentAtPos"):0),a),this._updateDatepicker(s))},_gotoToday:function(e){var i,a=t(e),n=this._getInst(a[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(a)},_selectMonthYear:function(e,i,a){var n=t(e),s=this._getInst(n[0]);s["selected"+("M"===a?"Month":"Year")]=s["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(e,i,a,n){var s,r=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(s=this._getInst(r[0]),s.selectedDay=s.currentDay=t("a",n).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=a,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var a,n=t(e),s=this._getInst(n[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),a=this._get(s,"onSelect"),a?a.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,a,n,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),a=this._getDate(e),n=this.formatDate(i,a,this._getFormatConfig(e)),t(s).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,a){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,s,r,o,l=0,d=(a?a.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10),h=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,u=(a?a.dayNames:null)||this._defaults.dayNames,p=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,f=(a?a.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,w=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},_=function(t){var e=w(t),a="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?a:1,s=RegExp("^\\d{"+n+","+a+"}"),r=i.substring(l).match(s);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},k=function(e,a,n){var s=-1,r=t.map(w(e)?n:a,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,e){var a=e[1];return i.substr(l,a.length).toLowerCase()===a.toLowerCase()?(s=e[0],l+=a.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},D=function(){if(i.charAt(l)!==e.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;e.length>n;n++)if(y)"'"!==e.charAt(n)||w("'")?D():y=!1;else switch(e.charAt(n)){case"d":v=_("d");break;case"D":k("D",h,u);break;case"o":b=_("o");break;case"m":m=_("m");break;case"M":m=k("M",p,f);break;case"y":g=_("y");break;case"@":o=new Date(_("@")),g=o.getFullYear(),m=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((_("!")-this._ticksTo1970)/1e4),g=o.getFullYear(),m=o.getMonth()+1,v=o.getDate();break;case"'":w("'")?D():y=!0;break;default:D()}if(i.length>l&&(r=i.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),b>-1)for(m=1,v=b;s=this._getDaysInMonth(g,m-1),!(s>=v);)m++,v-=s;if(o=this._daylightSavingAdjust(new Date(g,m-1,v)),o.getFullYear()!==g||o.getMonth()+1!==m||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var a,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>a+1&&t.charAt(a+1)===e;return i&&a++,i},d=function(t,e,i){var a=""+e;if(l(t))for(;i>a.length;)a="0"+a;return a},c=function(t,e,i,a){return l(t)?a[e]:i[e]},h="",u=!1;if(e)for(a=0;t.length>a;a++)if(u)"'"!==t.charAt(a)||l("'")?h+=t.charAt(a):u=!1;else switch(t.charAt(a)){case"d":h+=d("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),n,s);break;case"o":h+=d("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=d("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),r,o);break;case"y":h+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":u=!0;break;default:h+=t.charAt(a)}return h},_possibleChars:function(t){var e,i="",a=!1,n=function(i){var a=t.length>e+1&&t.charAt(e+1)===i;return a&&e++,a};for(e=0;t.length>e;e++)if(a)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):a=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":a=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),a=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),s=n,r=this._getFormatConfig(t);try{s=this.parseDate(i,a,r)||n}catch(o){a=e?"":a}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=a?s.getDate():0,t.currentMonth=a?s.getMonth():0,t.currentYear=a?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,a){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(a){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=n.getFullYear(),r=n.getMonth(),o=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=l.exec(i);d;){switch(d[2]||"d"){case"d":case"D":o+=parseInt(d[1],10);break;case"w":case"W":o+=7*parseInt(d[1],10);break;case"m":case"M":r+=parseInt(d[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(d[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(s,r))}d=l.exec(i)}return new Date(s,r,o)},r=null==i||""===i?a:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?a:n(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var a=!e,n=t.selectedMonth,s=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),n===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(a?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),a="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(a,-i,"M")},next:function(){t.datepicker._adjustDate(a,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(a)},selectDay:function(){return t.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(a,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,a,n,s,r,o,l,d,c,h,u,p,f,g,m,v,b,y,w,_,k,D,$,C,x,T,I,M,S,N,E,A,O,F,j,Y,R,P,L=new Date,H=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),W=this._get(t,"isRTL"),U=this._get(t,"showButtonPanel"),B=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),q=this._get(t,"showCurrentAtPos"),z=this._get(t,"stepMonths"),Q=1!==V[0]||1!==V[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),X=this._getMinMaxDate(t,"max"),Z=t.drawMonth-q,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),X)for(e=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-V[0]*V[1]+1,X.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-z,1)),this._getFormatConfig(t)):i,a=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+z,1)),this._getFormatConfig(t)):n,s=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+n+"</span></a>",r=this._get(t,"currentText"),o=this._get(t,"gotoCurrent")&&t.currentDay?G:H,r=K?this.formatDate(r,o,this._getFormatConfig(t)):r,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",d=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(W?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),u=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),w="",k=0;V[0]>k;k++){for(D="",this.maxRows=4,$=0;V[1]>$;$++){if(C=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),x=" ui-corner-all",T="",Q){if(T+="<div class='ui-datepicker-group",V[1]>1)switch($){case 0:T+=" ui-datepicker-group-first",x=" ui-corner-"+(W?"right":"left");break;case V[1]-1:T+=" ui-datepicker-group-last",x=" ui-corner-"+(W?"left":"right");break;default:T+=" ui-datepicker-group-middle",x=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===k?W?s:a:"")+(/all|right/.test(x)&&0===k?W?a:s:"")+this._generateMonthYearHeader(t,Z,tt,J,X,k>0||$>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",I=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)M=(_+c)%7,I+="<th scope='col'"+((_+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+u[M]+"'>"+p[M]+"</span></th>";for(T+=I+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),N=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,E=Math.ceil((N+S)/7),A=Q&&this.maxRows>E?this.maxRows:E,this.maxRows=A,O=this._daylightSavingAdjust(new Date(tt,Z,1-N)),F=0;A>F;F++){for(T+="<tr>",j=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",_=0;7>_;_++)Y=m?m.apply(t.input?t.input[0]:null,[O]):[!0,""],R=O.getMonth()!==Z,P=R&&!b||!Y[0]||J&&J>O||X&&O>X,j+="<td class='"+((_+c+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(O.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===O.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(P?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+Y[1]+(O.getTime()===G.getTime()?" "+this._currentClass:"")+(O.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!Y[2]?"":" title='"+Y[2].replace(/'/g,"&#39;")+"'")+(P?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":P?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===H.getTime()?" ui-state-highlight":"")+(O.getTime()===G.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);T+=j+"</tr>"}Z++,Z>11&&(Z=0,tt++),T+="</tbody></table>"+(Q?"</div>"+(V[0]>0&&$===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),D+=T}w+=D}return w+=d,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,a,n,s,r,o){var l,d,c,h,u,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+r[e]+"</span>";else{for(l=a&&a.getFullYear()===i,d=n&&n.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=a.getMonth())&&(!d||n.getMonth()>=c)&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+o[c]+"</option>");w+="</select>"}if(b||(y+=w+(!s&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(e)?u:e},f=p(h[0]),g=Math.max(f,p(h[1]||"")),f=a?Math.max(f,a.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!s&&m&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(t,e,i){var a=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(a,n))+("D"===i?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(a,n,s)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return a&&n>a?a:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,a){var n=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,a+(0>e?e:n[0]*n[1]),1));return 0>e&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,a,n=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),r=null,o=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=a),i[1].match(/[+\-].*/)&&(o+=a)),(!n||e.getTime()>=n.getTime())&&(!s||e.getTime()<=s.getTime())&&(!r||e.getFullYear()>=r)&&(!o||o>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,a){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(a,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.2",t.datepicker}),$("#mobile-canvas-button, .mobile-overlay").on("click",function(){$("#inner-wrap").hasClass("off-canvas")===!0?$("#inner-wrap, .mobile-overlay").removeClass("off-canvas"):$("#inner-wrap").hasClass("off-canvas")===!1&&$("#inner-wrap, .mobile-overlay").addClass("off-canvas")}),$(window).load(function(){var t=Backbone.Model.extend({url:window.location.origin+"/roomreserve/roomreserve/roomHours"}),e=Backbone.Collection.extend({url:window.location.origin+"/roomreserve/roomreserve/buildingsjsonp"}),i=Backbone.Collection.extend({url:window.location.origin+"/roomreserve/roomreserve/roomsjsonp"});buildings=new e,rooms=new i,selected_build=null,selected_room=null,selected_date=null,selected_time=null,selected_dur=null,buildings_container=$("#buildc"),calendar_container=$("#calenc"),data_error="Failed to load data, please refresh the page.",today=new XDate,today_str=today.toString("MM-dd-yyyy"),buildings.fetch({dataType:"jsonp",success:function(){rooms.fetch({dataType:"jsonp",success:function(){n.render()},error:function(){buildings_container.html(data_error)}})},error:function(){buildings_container.html(data_error)}});var a=Backbone.View.extend({el:"body",collection:buildings,events:{"click .buildinfo":"build","click .room":"room","click .box":"box","click .button":"reserve"},build:function(t){if(selected_build!=t.currentTarget.parentElement.id){$("#"+selected_build).removeClass("current"),selected_build=null,selected_build=t.currentTarget.parentElement.id;var e=$("#"+selected_build+" .roomc").children(".room");selected_room=e[0].id,$(".roomname").text(e.find(".rname")[0].innerHTML),$(".calcinitial").empty(),$(".roomc").slideUp(),$("#"+selected_build).addClass("current"),$("#"+selected_build+" .roomc").slideDown(),$(".room").removeClass("selected"),$("#"+selected_room).addClass("selected"),calendar_container.fadeIn(),$(".button").addClass("disabled"),this.getTimes()}else $("#"+selected_build).removeClass("current"),selected_build=null,$(".roomc").slideUp(),calendar_container.fadeOut(),$(".calcinitial").append("Please choose a building location to the left to start the reservation process.")},room:function(){var t=arguments[0].currentTarget;selected_room=t.id,$(".roomname").text($(t).find(".rname").text()),$(".room").removeClass("selected"),$("#"+selected_room).addClass("selected"),this.getTimes(),$(".button").addClass("disabled")},box:function(){arguments[0]?(selected_date=arguments[0].currentTarget.attributes.date.value,$(".box").css("background-color",""),$("#calenc li.box[date="+selected_date+"]").css("background-color","#FF8F50"),this.getTimes()):selected_date||(selected_date=today_str,$(".box").css("background-color",""),$("#calenc li.box[date="+selected_date+"]").css("background-color","#FF8F50")),$(".button").addClass("disabled")},getTimes:function(){daycal_container=$(".daycal"),
daycal_container.html("").append("<div class='loading'></div>");var e=new t;e.fetch({dataType:"json",data:{hours:.5,date:selected_date,roomid:selected_room,buildid:""},success:function(){if(today=new XDate,today_str=today.toString("MM-dd-yyyy"),e.attributes[0]){if(selected_date==today_str){var t=2*today.getHours();today.getMinutes()>15&&t++;var i=_.rest(e.attributes[0].starttimes,_.sortedIndex(e.attributes[0].starttimes,t))}else i=e.attributes[0].starttimes;var a=i.length;if(!a)return void n.noTimes();daycal_container.html("");for(var s=0;a>s;s++){var r=new XDate;r.setHours(Math.floor(i[s]/2)),r.setMinutes(i[s]%2*30),daycal_container.append("<tr><td time='"+r.toString("h:mmTT")+"' class='hour'>"+r.toString("h:mmTT")+" - "+r.addMinutes(30).toString("h:mmTT")+"</td></tr>"),i[s+1]-i[s]>1&&daycal_container.append("<tr></tr>")}n.selection()}else n.noTimes()},error:function(){n.noTimes()}})},noTimes:function(){daycal_container.html("").append("<p class='error'>Room Unavailable. Please make another selection.</p>")},selection:function(){var t=!1,e=0;$(".hour").mousedown(function(){$(".hour").removeClass("highlighted"),t=!0,e=1;var i=$(this);return i.addClass("highlighted"),selected_time=i.attr("time"),$(".button").removeClass("disabled"),!1}).mousemove(function(){t&&4>e&&$(this).parent().prev().children().hasClass("highlighted")&&!$(this).hasClass("highlighted")&&($(this).addClass("highlighted"),e++)}).mouseup(function(){t=!1,selected_dur=e/2})},reserve:function(){if($(".button").hasClass("disabled"))return $(".button").attr("href","about:blank"),!1;var t="http://uiuc.evanced.info/Dibs/Registration?SelectedTime="+selected_dur+"&SelectedRoomSize=2,2&SelectedBuildingID="+selected_build+"&SelectedRoomID="+selected_room+"&SelectedSearchDate="+selected_date+"&SelectedStartTime="+selected_date+"%20"+selected_time;$(".button").attr({href:t,target:"_blank"})},render:function(t){for(var e=buildings.length,i=0;e>i;i++){var a=rooms.where({buildingID:buildings.models[i].get("id")}),n={name:buildings.models[i].get("name"),desc:buildings.models[i].get("description"),picurl:buildings.models[i].get("picurl"),lat:buildings.models[i].get("lat"),lon:buildings.models[i].get("lon"),id:buildings.models[i].get("id"),numOfRooms:a.length};if(""!=n.picurl){var s=_.template($("#buildtemplate").html(),n);buildings_container.append(s);for(var r=$("#"+n.id+" .roomc"),o=0;o<n.numOfRooms;o++){var l={name:a[o].get("name"),desc:a[o].get("description"),picurl:a[o].get("picurl"),mapurl:a[o].get("mapurl"),roomID:a[o].get("roomID"),buildID:a[o].get("buildingID")},d=_.template($("#roomtemplate").html(),l);r.append(d),""==l.mapurl&&$("a[id="+l.roomID+"]").remove()}}}var c=_.template($("#caltemplate").html(),{});calendar_container.append(c);for(var h=new XDate,u=0;14>u;u++)$(".boxes").append('<li date="'+h.toString("MM-dd-yyyy")+'" class="box">'+h.toString("ddd")+"<p>"+h.getDate()+"</p></li>"),h.addDays(1);$(".headerdate").html(today.toString("MMMM dd, yyyy - ")+h.addDays(-1).toString("MMMM dd, yyyy")),this.box()}}),n=new a;$(".fancybox").fancybox({openEffect:"elastic",closeEffect:"elastic",iframe:{preload:!1},helpers:{overlay:{locked:!1}}}),$("a#carparking").fancybox({afterLoad:function(){this.title="<h5>"+this.title+'</h5><small><img src="./assets/parking/yellowbox.jpg" alt="public parking legend"> Campus Public Parking <img src="./assets/parking/buildingbox.jpg" alt="campus building legend"> Buildings</small><a href="http://www.parking.illinois.edu/home" style="float:right">Additional Campus Parking Information.<span class="glyphicon glyphicon-new-window"</span></a>'},helpers:{title:{type:"inside",position:"top"}}})}),$(document).ready(function(){weekDaysArray=orderWeekDays();var t=$.getJSON(window.location.origin+"/api/times_locations/librarieslist"),e=$.getJSON(window.location.origin+"/api/times_locations/librarieshours");$.when(t,e).then(function(t,e){printLibraries(t),printHours(e),filterOpenStatus(),filterLibraryNames(),preload(["./assets/ajax-loader.gif"])})}),$(document).ready(function(){$("#hours").on("click",".expandHoursRowClass",function(t){if($(t.target).hasClass("stopProp")===!1){var e="#"+$(this).attr("aria-controls");$(e).toggleClass("hiddenContent showContent")}})}),$(document).ready(function(){$("#search-field").on("keyup click input",filterLibraryNames)}),$(document).ready(function(){$("#open-filter-checkbox").change(function(){$(".open-closed-status").replaceWith('<img alt="loader image" src="./assets/ajax-loader.gif">'),$.getJSON(window.location.origin+"/api/times_locations/librarieshours",function(t){$.each(t.timeAndLocArray,function(t,e){24!=e.library_number&&openStatusBadge(e.open,e.library_number)}),filterOpenStatus()})})}),$(document).ready(function(){function t(t){var e=$(t).next().fracs(),i="#"+$(t).attr("id"),a=$(i+"+div>div").height(),n=e.visible*a;200>=n&&(console.log("bourbon vhref : ",i),$("html, body").animate({scrollTop:$(i).offset().top},1e3))}window.innerWidth>767&&$(".accordion-tabs-minimal").each(function(t){$(this).children("li").first().children("a").addClass("is-active").next().addClass("is-open").show()}),$(".accordion-tabs-minimal").on("click","li > a.tab-link",function(e){if($(this).hasClass("is-active")){if(e.preventDefault(),t(this),window.innerWidth<768){var i=$(this).closest(".accordion-tabs-minimal");i.find(".is-open").removeClass("is-open").hide(),$(this).removeClass("is-active")}}else{e.preventDefault();var i=$(this).closest(".accordion-tabs-minimal");i.find(".is-open").removeClass("is-open").hide(),$(this).next().toggleClass("is-open").toggle(),i.find(".is-active").removeClass("is-active"),$(this).addClass("is-active"),console.log("this in accordionTabs: ",this),t(this)}})}),$(document).ready(function(){$("#hoursloca").click(function(t){$("#inner-wrap").hasClass("off-canvas")===!0&&$("#inner-wrap, .mobile-overlay").removeClass("off-canvas");var e=$(this).attr("href");$(".accordion-tabs-minimal .is-active").removeClass("is-active"),$("#hoursloc").addClass("is-active"),$("#hoursloc + .tab-content-bourbon").addClass("is-open").show(),$("#helpli + .tab-content-bourbon, #techli + .tab-content-bourbon, #roomresli + .tab-content-bourbon, #newsli + .tab-content-bourbon").removeClass("is-active").hide(),$("html, body").animate({scrollTop:$(e).offset().top},1e3)}),$("#resourceGuidesA").click(function(t){$("#inner-wrap").hasClass("off-canvas")===!0&&$("#inner-wrap, .mobile-overlay").removeClass("off-canvas");var e=$(this).attr("href");$(".accordion-tabs-minimal .is-active").removeClass("is-active"),$("#helpli").addClass("is-active"),$("#helpli + .tab-content-bourbon").addClass("is-open").show(),$("#hoursloc + .tab-content-bourbon, #techli + .tab-content-bourbon, #roomresli + .tab-content-bourbon, #newsli + .tab-content-bourbon").removeClass("is-open").hide(),$("html, body").animate({scrollTop:$(e).offset().top},1e3)})}),!function(){"use strict";function t(t,e){return typeof t===e}function e(t,e){return t instanceof e}function i(t){return t&&t.nodeType}function a(t){return i(t)?t:e(t,v)?t[0]:void 0}function n(t,e,i){return v.each(t,function(t,a){i=e.call(a,i,t,a)}),i}function s(t,e,i){var a,n,s;if(t===e)return!0;if(!t||!e||t.constructor!==e.constructor)return!1;for(a=0,n=i.length;n>a;a+=1){if(s=i[a],t[s]&&_(t[s].equals)&&!t[s].equals(e[s]))return!1;if(t[s]!==e[s])return!1}return!0}function r(t,e,i,a){this.left=$(t),this.top=$(e),this.width=$(i),this.height=$(a),this.right=this.left+this.width,this.bottom=this.top+this.height}function o(t,e,i,a){this.visible=t||0,this.viewport=e||0,this.possible=i||0,this.rects=a&&w({},a)||null}function l(t,e){this.els=t,this.viewport=e}function d(t,e,i){var a;return v.inArray(i,x)>=0?a=r.ofElement(t):v.inArray(i,T)>=0&&(a=o.of(t,e)),a?a[i]:0}function c(t,e){return t.val-e.val}function h(t,e){return e.val-t.val}function u(t){var e=r.ofContent(t,!0),i=r.ofViewport(t,!0),a=e.width-i.width,n=e.height-i.height;this.content=e,this.viewport=i,this.width=0>=a?null:i.left/a,this.height=0>=n?null:i.top/n,this.left=i.left,this.top=i.top,this.right=e.right-i.right,this.bottom=e.bottom-i.bottom}function p(t){this.el=t||window}function f(t,e){this.context=t,this.viewport=e,this.init()}function g(t,e,i,a){this.context=new l(t,e),this.property=i,this.descending=a,this.init()}function m(t){t&&t!==window&&t!==document?(this.context=t,this.$autoTarget=v(t)):this.context=window,this.init()}var v=jQuery,b=v(window),y=v(document),w=v.extend,_=v.isFunction,k=Math.max,D=Math.min,$=Math.round,C=function(){var t={},e=1;return function(i){return i?(t[i]||(t[i]=e,e+=1),t[i]):0}}();w(r.prototype,{equals:function(t){return s(this,t,["left","top","width","height"])},area:function(){return this.width*this.height},relativeTo:function(t){return new r(this.left-t.left,this.top-t.top,this.width,this.height)},intersection:function(t){if(!e(t,r))return null;var i=k(this.left,t.left),a=D(this.right,t.right),n=k(this.top,t.top),s=D(this.bottom,t.bottom),o=a-i,l=s-n;return o>=0&&l>=0?new r(i,n,o,l):null},envelope:function(t){if(!e(t,r))return this;var i=D(this.left,t.left),a=k(this.right,t.right),n=D(this.top,t.top),s=k(this.bottom,t.bottom),o=a-i,l=s-n;return new r(i,n,o,l)}}),w(r,{ofContent:function(t,e){return t&&t!==document&&t!==window?e?new r(0,0,t.scrollWidth,t.scrollHeight):new r(t.offsetLeft-t.scrollLeft,t.offsetTop-t.scrollTop,t.scrollWidth,t.scrollHeight):new r(0,0,y.width(),y.height())},ofViewport:function(t,e){return t&&t!==document&&t!==window?e?new r(t.scrollLeft,t.scrollTop,t.clientWidth,t.clientHeight):new r(t.offsetLeft,t.offsetTop,t.clientWidth,t.clientHeight):new r(b.scrollLeft(),b.scrollTop(),b.width(),b.height())},ofElement:function(t){var e=v(t);if(!e.is(":visible"))return null;var i=e.offset();return new r(i.left,i.top,e.outerWidth(),e.outerHeight())}}),w(o.prototype,{equals:function(t){return this.fracsEqual(t)&&this.rectsEqual(t)},fracsEqual:function(t){return s(this,t,["visible","viewport","possible"])},rectsEqual:function(t){return s(this.rects,t.rects,["document","element","viewport"])}}),w(o,{of:function(t,e){var a,n,s;return t=i(t)&&r.ofElement(t)||t,e=i(e)&&r.ofViewport(e)||e||r.ofViewport(),t instanceof r&&(a=t.intersection(e))?(n=a.area(),s=D(t.width,e.width)*D(t.height,e.height),new o(n/t.area(),n/e.area(),n/s,{document:a,element:a.relativeTo(t),viewport:a.relativeTo(e)})):new o}});var x=["width","height","left","right","top","bottom"],T=["possible","visible","viewport"];w(l.prototype,{sorted:function(t,e){var i=this.viewport;return v.map(this.els,function(e){return{el:e,val:d(e,i,t)}}).sort(e?h:c)},best:function(t,e){return this.els.length?this.sorted(t,e)[0]:null}}),w(u.prototype,{equals:function(t){return s(this,t,["width","height","left","top","right","bottom","content","viewport"])}}),w(p.prototype,{equals:function(t){return s(this,t,["el"])},scrollState:function(){return new u(this.el)},scrollTo:function(t,e,i){var a=v(this.el===window?"html,body":this.el);t=t||0,e=e||0,i=isNaN(i)?1e3:i,a.stop(!0).animate({scrollLeft:t,scrollTop:e},i)},scroll:function(t,e,i){var a=this.el===window?b:v(this.el);t=t||0,e=e||0,this.scrollTo(a.scrollLeft()+t,a.scrollTop()+e,i)},scrollToRect:function(t,e,i,a){e=e||0,i=i||0,this.scrollTo(t.left-e,t.top-i,a)},scrollToElement:function(t,e,i,a){var n=r.ofElement(t).relativeTo(r.ofContent(this.el));this.scrollToRect(n,e,i,a)}});var I={init:function(){this.callbacks=v.Callbacks("memory unique"),this.currVal=null,this.prevVal=null,this.checkProxy=v.proxy(this.check,this),this.autoCheck()},bind:function(t){this.callbacks.add(t)},unbind:function(t){t?this.callbacks.remove(t):this.callbacks.empty()},trigger:function(){this.callbacks.fireWith(this.context,[this.currVal,this.prevVal])},check:function(t){var e=this.updatedValue(t);return void 0===e?!1:(this.prevVal=this.currVal,this.currVal=e,this.trigger(),!0)},$autoTarget:b,autoEvents:"load resize scroll",autoCheck:function(t){this.$autoTarget[t===!1?"off":"on"](this.autoEvents,this.checkProxy)}};w(f.prototype,I,{updatedValue:function(){var t=o.of(this.context,this.viewport);return this.currVal&&this.currVal.equals(t)?void 0:t}}),w(g.prototype,I,{updatedValue:function(){var t=this.context.best(this.property,this.descending);return t&&(t=t.val>0?t.el:null,this.currVal!==t)?t:void 0}}),w(m.prototype,I,{updatedValue:function(){var t=new u(this.context);return this.currVal&&this.currVal.equals(t)?void 0:t}});var M=function(t,e){var i=[].slice,a=jQuery,n=a.extend,s=a.isFunction,r=n({},e),o=function(e,i,n,r){return n=s(n)?n.apply(e,i):n,s(r[n])?r[n].apply(e,i):void a.error('Method "'+n+'" does not exist on jQuery.'+t)},l=function(){return o(this,i.call(arguments),r.defaultStatic,l)},d=function(t){return s(d[t])?d[t].apply(this,i.call(arguments,1)):o(this,i.call(arguments),r.defaultMethod,d)},c=function(t){t&&(n(l,t.statics),n(d,t.methods)),l.modplug=c};c.prev={statics:a[t],methods:a.fn[t]},c(e),a[t]=l,a.fn[t]=d},S="fracs";M(S,{statics:{version:"0.15.0",Rect:r,Fractions:o,Group:l,ScrollState:u,Viewport:p,FracsCallbacks:f,GroupCallbacks:g,ScrollStateCallbacks:m,fracs:function(t,e){return o.of(t,e)}},methods:{content:function(t){return this.length?r.ofContent(this[0],t):null},envelope:function(){return n(this,function(t){var e=r.ofElement(this);return t?t.envelope(e):e})},fracs:function(e,i,n){t(e,"string")||(n=i,i=e,e=null),_(i)||(n=i,i=null),n=a(n);var s=S+".fracs."+C(n);return"unbind"===e?this.each(function(){var t=v(this).data(s);t&&t.unbind(i)}):"check"===e?this.each(function(){var t=v(this).data(s);t&&t.check()}):_(i)?this.each(function(){var t=v(this),e=t.data(s);e||(e=new f(this,n),t.data(s,e)),e.bind(i)}):this.length?o.of(this[0],n):null},intersection:function(){return n(this,function(t){var e=r.ofElement(this);return t?t.intersection(e):e})},max:function(t,e,i){return _(e)||(i=e,e=null),i=a(i),e?(new g(this,i,t,!0).bind(e),this):this.pushStack(new l(this,i).best(t,!0).el)},min:function(t,e,i){return _(e)||(i=e,e=null),i=a(i),e?(new g(this,i,t).bind(e),this):this.pushStack(new l(this,i).best(t).el)},rect:function(){return this.length?r.ofElement(this[0]):null},scrollState:function(e,i){var a=S+".scrollState";return t(e,"string")||(i=e,e=null),"unbind"===e?this.each(function(){var t=v(this).data(a);t&&t.unbind(i)}):"check"===e?this.each(function(){var t=v(this).data(a);t&&t.check()}):_(i)?this.each(function(){var t=v(this),e=t.data(a);e||(e=new m(this),t.data(a,e)),e.bind(i)}):this.length?new u(this[0]):null},scroll:function(t,e,i){return this.each(function(){new p(this).scroll(t,e,i)})},scrollTo:function(t,e,i,n){return v.isNumeric(t)&&(n=i,i=e,e=t,t=null),t=a(t),this.each(function(){t?new p(this).scrollToElement(t,e,i,n):new p(this).scrollTo(e,i,n)})},scrollToThis:function(t,e,i,n){return n=new p(a(n)),n.scrollToElement(this[0],t,e,i),this},softLink:function(t,e,i,n){return n=new p(a(n)),this.filter("a[href^=#]").each(function(){var a=v(this);a.on("click",function(){n.scrollToElement(v(a.attr("href"))[0],t,e,i)})})},sort:function(e,i,n){return t(i,"boolean")||(n=i,i=null),n=a(n),this.pushStack(v.map(new l(this,n).sorted(e,!i),function(t){return t.el}))},viewport:function(t){return this.length?r.ofViewport(this[0],t):null}},defaultStatic:"fracs",defaultMethod:"fracs"})}(),$(".easy-search-text-input").keyup(function(){var t=[],e=this.id,a=$(this).val();for($(".easy-search-text-input").each(function(){this.id!=e&&t.push(this.id)}),i=0;i<t.length;i++)$("#"+t[i]).val(a)}),$("#dropdown").change(function(){"gen"==$("#dropdown").val()?($("#search_everything").attr("action","http://search.grainger.uiuc.edu/discovery/splitsearch.asp"),$("#keyword").attr("name","searcharg"),$("#search_everything .es-classic").prop("disabled",!0),$("#search_everything .es-bento").prop("disabled",!1)):($("#search_everything").attr("action","http://search.grainger.illinois.edu/searchaid2/saresultsug.asp"),$("#keyword").attr("name","keyword"),$("#search_everything .es-bento").prop("disabled",!0),$("#search_everything .es-classic").prop("disabled",!1))}),$("#libSearchForm").submit(function(t){var e=$("#libSearchForm").serialize();t.preventDefault(),$.ajax({url:"libguidessearch.php?",dataType:"html",data:e,success:function(t){$("#libGuideSearch").html(t)}})}),$(window).load(function(){function t(t){function e(t){$(t).find("item").each(function(){$("#news_feat_cont").append($(this).find("description").text()+"</li>")})}var i=t.search("src=&quot;/cms/"),a=t.indexOf("&quot;",i+6),n=t.substring(i+14,a),s=t.search("img title="),r=t.indexOf("&quot;",s+13),o=t.substring(s+16,r);$(t).find("item").each(function(){$("#news_feat_img").append('<img id="library_featured_news" alt="'+o+'" title="'+o+'" src="http://www.library.illinois.edu'+n+'"/>'),$("#news_feat_cont").append('<span class="libnewsdate">'+$(this).find("pubDate").text().substr(0,5)+$(this).find("pubDate").text().substr(8,4)+$(this).find("pubDate").text().substr(5,3)+$(this).find("pubDate").text().substr(12,4)+"</span></br><a href='"+$(this).find("guid").text()+"'>"+$(this).find("title").text()+"</a></br>")}),$.ajax({type:"GET",url:"libnewsfeaturedsum.php",dataType:"xml",success:e})}function e(t){$(t).find("item").each(function(t){return $("#libnews").append('<li><span class="libnewsdate">'+$(this).find("pubDate").text().substr(0,5)+$(this).find("pubDate").text().substr(8,4)+$(this).find("pubDate").text().substr(5,3)+$(this).find("pubDate").text().substr(12,4)+"</span></br><a href='"+$(this).find("link").text()+"'>"+$(this).find("title").text()+"</a></br>"+$(this).find("description").text()+"</li><li role='presentation' class='divider'></li>"),3==t?!1:void 0})}$.ajax({type:"GET",url:"libnewsfeatured.php",dataType:"html",success:t}),$.ajax({type:"GET",url:"libnewsproxy.php?",dataType:"xml",success:e})}),$(window).load(function(){$.getJSON(window.location.origin+"/api/tech/list",function(t){$.each(t,function(t,e){var i=e.name.replace("<","&lt;").replace(">","&gt;");$("#uglTechItem").append("<li><a href='http://vufind.carli.illinois.edu/vf-uiu/Record/"+e.bibId+"/Holdings'>"+i+"</a><span class='badge'>"+e.count+"</span></li>")})})}),$(".arrow-access").keydown(function(t){39==t.keyCode&&$(".arrow-access:focus").closest("li").next().find("a.arrow-access").focus().click(),37==t.keyCode&&$(".arrow-access:focus").closest("li").prev().find("a.arrow-access").focus().click()});